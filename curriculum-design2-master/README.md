# 压水堆核电厂二回路热力系统初步设计

#### 介绍

哈工程核学院核工程与核技术专业课程设计二可视化项目，算是本人在答辩的时候夸下的海口（虽然最后在我的设计说明书的总结里删掉了），萌生于本人在痛苦的完成课设二的过程中，以及完成后发觉做了太多无意义的纯劳动后，多次想寻求一个一劳永逸的方案，能够让后来者再做课设二的时候能够轻松一点。目前的发行版(v0.1.0)开发从2021.8.19到2021.8.28，耗时约9天（可以在我主页的贡献里看到），奈何我马上就要开学了，能做的工作也就这些。本项目从一开始就打算开源，借鉴愚公移山的精神，发扬核院“传、帮、带”的优良传统，也提供给学弟学妹们一个锻炼编码能力和了解项目开发过程、锻炼以后肯定能用得着的能力的零基础的机会，希望大家能够广泛参与，积极贡献，有问题可以随时与我交流，共同学习，我会一直在这里静待有缘人……

#### 软件架构

软件环境：PyQt5.15.1 + python3.8.10

软件平台：vs code + pyqt5designer

逻辑与界面分离

#### 使用方法

1. 目前有[发行版v0.1.0](https://gitee.com/euaurora/curriculum-design2/releases/v0.1.0)，下载`Source code(zip)`解压至目录
2. 双击执行`main.exe`即可

#### 使用说明

##### 软件概述

此软件为专门针对哈工程核学院核工程与核技术专业课程设计二（压水堆核电厂二回路热力系统初步设计）制作的可视化软件，只适用于符合以下条件的压水堆核电厂二回路热力系统：

* 2级再热，7级回热；
* 回热采取逐级回流；
* 设计要求遵照[2021年课程设计（二）指导书](https://euaurora.com/usr/uploads/2021/08/3800975131.pdf)要求

**请软件使用者仔细对应使用条件！** 鉴于开发者能力有限，如有未考虑到的情况请在项目仓库中评论或联系邮箱：zhouxiaoyu@euaurora.com或QQ：1615122251。有能力者可仔细阅读仓库中`parTab.py`文件的“核心程序”部分，这部分就是二回路热力系统设计的灵魂所在，剩下都是壳子。另外值得强调的是，核心代码结结实实的踩了李磊老师说的40%和60%的坑，目前软件只可用于计算数据的参考、比对和分析。核心代码算法的转型希望大家积极贡献。

##### 食用方法

**一、主界面**

![](https://euaurora.com/usr/uploads/2021/08/3549934765.jpg)

没什么好说的，承认丑了一些……界面美化有没有学弟学妹感兴趣的，积极贡献呀~~

**二、新建项目**

点击主界面的“新建项目”按钮，或点击菜单栏“文件->新建项目”，或使用快捷键`alt+N`即可打开新建项目文件夹窗口。后续对应输出的文件将都保存在该文件夹下。

<img src="https://euaurora.com/usr/uploads/2021/08/2163527094.png"/>

需要输入文件夹名（请务带有特殊字符如“\”、“/”、“.”等，推荐使用“-”或“_”）

点击`OK`会新建文件夹并显示窗口填写输入数据。

**三、打开项目**

点击主界面的“打开项目”按钮，或点击菜单栏“文件->打开项目”，或使用快捷键`alt+O`即可打开选择项目文件窗口。目前只支持选择本软件生成的`.json`文件。文件所在的目录将作为项目目录。打开后会在主界面的新标签页中以表格的形式显示输入数据。

**四、输入数据填写**

<img src="https://euaurora.com/usr/uploads/2021/08/827182177.png"/>

<img src="https://euaurora.com/usr/uploads/2021/08/3739535400.png"/>



请用户**务必按照实际情况**修改数据。其中“给定热力参数”页每个输入栏中标注了《2021年课程设计（二）指导书》提供的推荐范围，请用户务必认真填写。如果填写不当会影响后续计算。点击“保存”即可在项目文件夹中生成存储输入数据的`.json`文件，并在主页面增加“输入参数”的标签页

**五、输入参数标签页**

<img src="https://euaurora.com/usr/uploads/2021/08/2173150103.png"/>

其中“数值”列可以进行修改，修改后请点击“保存”按钮进行保存。过程中会提示是否要覆盖原有输入文件，按需进行设置即可。

**注意：请把另存为的文件放入相同的项目文件夹中。**

点击“运行”即可依照输入数据进行二回路热力计算。计算完成后会有弹窗提示，点击`OK`即可，项目文件夹中会生成与输入文件(parameters.json)对应的输出文件(parameters_data.txt、parameters_interation.txt)。

**六、输出数据展示**

<img src="https://euaurora.com/usr/uploads/2021/08/3569405377.png"/>

运行完成后软件会自动加载迭代结果文件，不可编辑，但是可以选择与复制。其中“生成Python代码”功能尚未开发。

**七、菜单栏其他相关说明**

**文件->打开文件：** 支持打开目前软件生成的`.json`输入文件，以及运行计算后生成的两个`.txt`文件。其中`.json`文件将以表格的形式解析，仍然支持保存和继续执行运算；`.txt`文件为文本形式解析，不支持编辑，可以选择和复制。

**文件->退出程序：** 顾名思义。

其他菜单栏均未开发。

##### 待开发功能

1. 软件根据输入参数直接生成可以直接交作业用的Python程序文件功能；
2. 根据输出数据展示生成热线图的功能；
3. 针对系统布置形式（如回热级数、再热级数）的变换的适应功能；
4. 菜单栏其他未开发功能；
5. 老师常见答辩问题整理；
6. 其他界面美化问题；

静待有缘人……


#### 参与贡献

1.  Fork 本仓库的`master`分支
2.  增加功能到个人仓库
3.  新建 Pull Request到`develop`分支